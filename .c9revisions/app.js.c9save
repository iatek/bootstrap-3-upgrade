{"ts":1375983179879,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1375983246864,"patch":[[{"diffs":[[1,"var express = require('express'),\r\n    engine = require('ejs-locals'),\r\n    app = express();\r\n\r\nexports.init = function(port) {\r\n    \r\n    app.locals({\r\n        _layoutFile:'layout.ejs',\r\n    });\r\n\r\n    app.configure(function(){\r\n        app.set('views', __dirname + '/views');\r\n        app.set('view engine', 'ejs');\r\n\r\n        app.use(express.compress());\r\n        app.use(express.staticCache());\r\n        app.use(express.static(__dirname + '/static', {maxAge: 86400000}));\r\n        \r\n        app.use(express.bodyParser());\r\n        app.use(express.methodOverride());\r\n        app.use(express.cookieParser());\r\n        app.use(express.cookieSession({cookie:{path:'/',httpOnly:true,maxAge:null},secret:'skeletor'}));\r\n       \r\n        app.use(app.router);\r\n    });\r\n\r\n    app.engine('ejs', engine);\r\n    \r\n    app.configure('development', function(){\r\n        app.use(express.errorHandler({ dumpExceptions: true, showStack: true })); \r\n        // app.use(express.logger({ format: ':method :url' }));\r\n    });\r\n\r\n    app.configure('production', function(){\r\n        app.use(express.errorHandler()); \r\n    })\r\n\r\n    app.use(function(err, req, res, next){\r\n        res.render('500.ejs', { locals: { error: err },status: 500 });\t\r\n    });\r\n\t\r\n    var server = app.listen(port);\r\n    console.log(\"Listening on port %d in %s mode\", server.address().port, app.settings.env);\r\n    return app;\r\n    \r\n}"]],"start1":0,"start2":0,"length1":0,"length2":1394}]],"length":1394,"saved":false}
